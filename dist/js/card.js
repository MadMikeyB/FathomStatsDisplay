(()=>{"use strict";var e,t={895:()=>{const e=Vue;var t={class:"flex w-full flex-col items-center justify-between px-3 py-3"},a={class:"text-4xl font-semibold"},o={class:"text-sm uppercase"},l=(0,e.createTextVNode)("+"),n=(0,e.createTextVNode)("-");const r={__name:"StatBox",props:{mainStat:{required:!0},title:{required:!0},diff:{required:!0},up:{type:Boolean}},setup:function(r){var s=r;return function(c,i){return(0,e.openBlock)(),(0,e.createElementBlock)("div",t,[(0,e.createElementVNode)("div",a,(0,e.toDisplayString)(s.mainStat),1),(0,e.createElementVNode)("div",o,[(0,e.createTextVNode)((0,e.toDisplayString)(s.title)+" ",1),(0,e.createElementVNode)("span",{class:(0,e.normalizeClass)([r.up?"text-green-500":"text-red-500"])},[s.up?((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:0},[l],64)):((0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,{key:1},[n],64)),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(r.diff),1)],2)])])}}};var s={class:"flex w-full justify-between py-4"},c={class:"flex w-full items-center justify-between px-3 py-3"},i={key:0},u=[(0,e.createElementVNode)("option",{value:"7"},"7 Days",-1),(0,e.createElementVNode)("option",{value:"30"},"30 Days",-1),(0,e.createElementVNode)("option",{value:"60"},"60 Days",-1),(0,e.createElementVNode)("option",{value:"90"},"90 Days",-1)],d=["onClick"],f=["href"];const p={__name:"Card",props:{card:{}},setup:function(t){var a=(0,e.ref)(null),o=(0,e.ref)(null),l=(0,e.ref)(null);function n(){Nova.request().get("/nova-vendor/fathom-stats-display/getStats/"+o.value).then((function(e){l.value=e.data.statBlocks,o.value=e.data.timePeriod}))}function p(){Nova.request().get("/nova-vendor/fathom-stats-display/refresh").then((function(e){n()}))}(0,e.onMounted)((function(){Nova.request().get("/nova-vendor/fathom-stats-display/siteId").then((function(e){a.value=e.data})),Nova.request().get("/nova-vendor/fathom-stats-display/getStats").then((function(e){l.value=e.data.statBlocks,o.value=e.data.timePeriod}))}));var v=(0,e.computed)((function(){return null==a.value?null:"https://app.usefathom.com/?site="+a.value}));return function(t,a){var m=(0,e.resolveComponent)("Loader"),k=(0,e.resolveComponent)("IconArrow"),y=(0,e.resolveComponent)("Card",!0);return(0,e.openBlock)(),(0,e.createBlock)(y,{class:"flex flex-col items-center justify-center"},{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("div",s,[null===l.value?((0,e.openBlock)(),(0,e.createBlock)(m,{key:0,class:"mx-auto py-6 text-gray-300",width:"60"})):((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,{key:1},(0,e.renderList)(l.value,(function(t){return(0,e.openBlock)(),(0,e.createBlock)(r,{title:t.title,mainStat:t.mainStat,diff:t.diff,up:t.up},null,8,["title","mainStat","diff","up"])})),256))]),(0,e.createElementVNode)("div",c,[(0,e.createElementVNode)("div",null,[null!==o.value?((0,e.openBlock)(),(0,e.createElementBlock)("div",i,[(0,e.createElementVNode)("div",{class:(0,e.normalizeClass)(["relative flex",t.$attrs.class])},[(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":a[0]||(a[0]=function(e){return o.value=e}),class:(0,e.normalizeClass)(["form-control form-select block w-full",["form-control-xs form-select-bordered",t.selectClasses]]),onChange:n},u,34),[[e.vModelSelect,o.value]]),(0,e.createVNode)(k,{class:"form-select-arrow pointer-events-none"})],2)])):((0,e.openBlock)(),(0,e.createBlock)(m,{key:1,class:"text-gray-300",width:"30"}))]),(0,e.createElementVNode)("div",null,[null!==o.value?((0,e.openBlock)(),(0,e.createElementBlock)("a",{key:0,href:"#",onClick:(0,e.withModifiers)(p,["prevent"])},"Refresh Data",8,d)):((0,e.openBlock)(),(0,e.createBlock)(m,{key:1,class:"text-gray-300",width:"30"}))]),(0,e.createElementVNode)("div",null,[null!==(0,e.unref)(v)?((0,e.openBlock)(),(0,e.createElementBlock)("a",{key:0,href:(0,e.unref)(v)},"Go to Fathom",8,f)):((0,e.openBlock)(),(0,e.createBlock)(m,{key:1,class:"text-gray-300",width:"30"}))])])]})),_:1})}}};Nova.booting((function(e,t){e.component("fathom-stats-display",p)}))},962:()=>{}},a={};function o(e){var l=a[e];if(void 0!==l)return l.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,a,l,n)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,l,n]=e[u],s=!0,c=0;c<a.length;c++)(!1&n||r>=n)&&Object.keys(o.O).every((e=>o.O[e](a[c])))?a.splice(c--,1):(s=!1,n<r&&(r=n));if(s){e.splice(u--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,l,n]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={440:0,458:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var l,n,[r,s,c]=a,i=0;if(r.some((t=>0!==e[t]))){for(l in s)o.o(s,l)&&(o.m[l]=s[l]);if(c)var u=c(o)}for(t&&t(a);i<r.length;i++)n=r[i],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},a=self.webpackChunkganda_fathom_stats_display=self.webpackChunkganda_fathom_stats_display||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),o.O(void 0,[458],(()=>o(895)));var l=o.O(void 0,[458],(()=>o(962)));l=o.O(l)})();